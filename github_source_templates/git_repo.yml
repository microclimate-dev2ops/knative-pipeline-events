apiVersion: v1
kind: Secret
metadata:
  name: github-repo-access-secret
  annotations:
    build.knative.dev/git-0: https://github.ibm.com # CHANGE IF GITHUB.COM
type: kubernetes.io/basic-auth
stringData:
  username: does_not_matter
  password: a58c94294d7d015d69d33d446d6dfa1a90ea7964

---

apiVersion: v1
kind: ServiceAccount
metadata:
  #CHANGE THIS IF USING DIFFERENT SERVICE ACCOUNT?
  name: default
secrets:
  - name: github-repo-access-secret

---

apiVersion: v1
kind: Secret
metadata:
  name: github-secret
type: Opaque
stringData:
  accessToken: a58c94294d7d015d69d33d446d6dfa1a90ea7964
  secretToken: abfea

---

apiVersion: sources.eventing.knative.dev/v1alpha1
kind: GitHubSource
metadata:
  name: github-event-source-sample
spec:
  eventTypes:
    - push
    - pull_request
  ownerAndRepository: Jessica-McCreery/sample
  accessToken:
    secretKeyRef:
      name: github-secret
      key: accessToken
  secretToken:
    secretKeyRef:
      name: github-secret
      key: secretToken
  sink:
    apiVersion: serving.knative.dev/v1alpha1
    kind: Service
    name: github-event-pipeline

